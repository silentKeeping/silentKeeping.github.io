<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>shell on FeixiangFu</title><link>https://silentkeeping.github.io/t/shell/</link><description>Recent content in shell on FeixiangFu</description><generator>Hugo -- gohugo.io</generator><language>zh-ch</language><copyright>© 2023 FeixiangFu</copyright><lastBuildDate>Sat, 06 Jan 2018 00:00:00 +0000</lastBuildDate><atom:link href="https://silentkeeping.github.io/t/shell/index.xml" rel="self" type="application/rss+xml"/><item><title>批量自动构建docker镜像的shell脚本</title><link>https://silentkeeping.github.io/2018/01/build-docker-image/</link><pubDate>Sat, 06 Jan 2018 00:00:00 +0000</pubDate><guid>https://silentkeeping.github.io/2018/01/build-docker-image/</guid><description>背景 # 目前，由于公司多个相互隔离环境并存，各个环境都部署有容器管理平台，当有docker image更新的时候，就需要在每个环境都修改Dockerfile并执行docker build &amp;amp; docker push到公共镜像仓库的操作，为了减少重复性的工作，我就写了一个自动构建镜像的脚本，只需要在一个环境中准备好构建镜像的Dockerfile及依赖文件，执行脚本完成构建和推送，然后打包构建镜像的文件夹并传输到另一环境，执行脚本就可以自动完成
脚本运行示例 # 构建脚本的目录结构 # 01.20171229文件夹 &amp;lt;&amp;mdash;&amp;gt; 要构建镜像的tag
构建镜像步骤 # 创建目录 # $ cd /data/dcos $ mkdir -p buildimages/01.20171229 log $ cd buildimages/01.20171229 #创建各个需要build镜像的文件夹 $ mkdir centos7.</description></item></channel></rss>